"use strict";(self.webpackChunkproject=self.webpackChunkproject||[]).push([[278],{3278:function(e,n,t){t.r(n),t.d(n,{default:function(){return j}});var r=t(9439),i=t(2791),s="Chat_messages__efd-3",a=t(8687),l=t(2140),c=t(7689),u=t(1087),o=t(1773),d=t(668),x=t(462),f=t(6883),h=t(184),p=t(5045),g=function(){var e=(0,i.useState)(""),n=(0,r.Z)(e,2),t=n[0],s=n[1],c=(0,a.I0)(),u=(0,a.v9)((function(e){return e.chat.status}));return(0,h.jsx)(h.Fragment,{children:(0,h.jsx)("div",{style:{maxWidth:"700px"},children:(0,h.jsxs)(o.Z.Compact,{style:{width:"100%",padding:"8px 8px 8px 0 ",margin:"4px"},children:[(0,h.jsx)(d.Z,{defaultValue:"",value:t,onChange:function(e){return s(e.currentTarget.value)}}),(0,h.jsx)(x.ZP,{type:"primary",disabled:"pending"===u||!navigator.onLine,onClick:function(){t&&(c((0,l.J)(t)),s(""))},children:"\u041e\u0422\u041f\u0420\u0410\u0412\u0418\u0422\u042c"})]})})})},v=function(){var e=(0,a.v9)((function(e){return e.chat.messages})),n=(0,i.useRef)(null),t=(0,i.useState)(!0),l=(0,r.Z)(t,2),c=l[0],u=l[1];return(0,i.useEffect)((function(){var e;c&&(null===(e=n.current)||void 0===e||e.scrollIntoView({behavior:"auto"}))}),[e,c]),(0,h.jsxs)("div",{style:{overflow:"auto",maxHeight:"700px",maxWidth:"700px"},onScroll:function(e){var n=e.currentTarget;Math.abs(n.scrollHeight-n.scrollTop-n.clientHeight)<300?u(!0):u(!1)},className:s,children:[e.map((function(e,n){return(0,h.jsx)(m,{message:e},n)})),(0,h.jsx)("div",{ref:n})]})},m=i.memo((function(e){var n=e.message;return(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)("div",{style:{display:"flex",flexDirection:"row",color:"aliceblue",background:"#212121",padding:"8px",margin:"4px",borderRadius:"16px"},children:[(0,h.jsx)("div",{children:(0,h.jsx)(u.OL,{to:"/profile/"+n.userId,children:(0,h.jsx)("img",{src:n.photo||p,style:{borderRadius:"50%"},alt:"avatar",height:"50px",width:"50px"})})}),(0,h.jsx)("div",{style:{alignSelf:"center",marginLeft:"10px",fontFamily:"Montserrat"},children:n.message})]})})})),j=function(){var e=(0,a.I0)();return(0,i.useEffect)((function(){return e((0,l.bv)()),function(){e((0,l.pz)())}}),[e]),(0,a.v9)(f.W)?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(v,{}),(0,h.jsx)(g,{})]}):(0,h.jsx)(c.Fg,{to:"/login"})}}}]);
//# sourceMappingURL=278.de22b3ba.chunk.js.map